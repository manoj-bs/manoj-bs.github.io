"use strict";(self.webpackChunkreact_material_admin=self.webpackChunkreact_material_admin||[]).push([[666],{33666:function(e,r,a){a.r(r),a.d(r,{default:function(){return S}});var n=a(74165),t=a(1413),o=a(15861),i=a(14872),s=a(46087),l=a(52697),u=a(51233),d=a(11579),c=a(5068),m=a(31517),f=a(94327),p=a(58614),v=a(1573),Z=a(47044),h=a(22263),g=a(55705),b=a(22020),x=a(53135),y=a(74569),C=a.n(y),N=a(91933),j=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r){var a,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C().put("/api/profile-info",r);case 2:return a=e.sent,t=a.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();function P(){var e=(0,N.useQueryClient)(),r=(0,N.useMutation)(j,{onSuccess:function(r){e.setQueryData(["profile-info"],r)}});return{isUpdating:r.isLoading,updateProfileInfo:r.mutateAsync}}var M=a(61028),R=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C().get("/api/profile-info");case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var w=a(80184),T=[{label:"profile.info.form.gender.options.f",value:"F"},{label:"profile.info.form.gender.options.m",value:"M"},{label:"profile.info.form.gender.options.n",value:"NC"}],S=function(){var e=(0,M.Ds)(),r=(0,b.$)().t,a=(0,N.useQuery)("profile-info",(function(){return R()})).data,y=P(),C=y.isUpdating,j=y.updateProfileInfo,S=(0,g.TA)({initialValues:{email:a?a.email:"",firstName:a?a.firstName:"",gender:a?a.gender:void 0,job:a?a.job:"",lastName:a?a.lastName:""},validationSchema:x.Ry({email:x.Z_().email(r("common.validations.email")).required(r("common.validations.required")),firstName:x.Z_().max(20,r("common.validations.max",{size:20})).required(r("common.validations.required")),lastName:x.Z_().max(30,r("common.validations.max",{size:30})).required(r("common.validations.required"))}),onSubmit:function(e){return k(e)}}),k=function(){var i=(0,o.Z)((0,n.Z)().mark((function o(i){return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:j((0,t.Z)((0,t.Z)({},i),{},{id:null===a||void 0===a?void 0:a.id})).then((function(){e.success(r("profile.notifications.informationUpdated"))})).catch((function(){e.error(r("common.errors.unexpected.subTitle"))}));case 1:case"end":return n.stop()}}),o)})));return function(e){return i.apply(this,arguments)}}();return(0,w.jsx)("form",{onSubmit:S.handleSubmit,noValidate:!0,children:(0,w.jsxs)(s.Z,{children:[(0,w.jsx)(d.Z,{title:r("profile.info.title")}),(0,w.jsxs)(u.Z,{children:[(0,w.jsx)(Z.Z,{margin:"normal",required:!0,fullWidth:!0,id:"lastName",label:r("profile.info.form.lastName.label"),name:"lastName",autoComplete:"family-name",autoFocus:!0,disabled:C,value:S.values.lastName,onChange:S.handleChange,error:S.touched.lastName&&Boolean(S.errors.lastName),helperText:S.touched.lastName&&S.errors.lastName}),(0,w.jsx)(Z.Z,{margin:"normal",required:!0,fullWidth:!0,id:"firstName",label:r("profile.info.form.firstName.label"),name:"firstName",autoComplete:"given-name",disabled:C,value:S.values.firstName,onChange:S.handleChange,error:S.touched.firstName&&Boolean(S.errors.firstName),helperText:S.touched.firstName&&S.errors.firstName}),(0,w.jsxs)(c.Z,{component:"fieldset",margin:"normal",children:[(0,w.jsx)(f.Z,{component:"legend",children:r("profile.info.form.gender.label")}),(0,w.jsx)(v.Z,{row:!0,"aria-label":"gender",name:"gender",value:S.values.gender,onChange:S.handleChange,children:T.map((function(e){return(0,w.jsx)(m.Z,{value:e.value,control:(0,w.jsx)(p.Z,{}),label:r(e.label)},e.value)}))})]}),(0,w.jsx)(Z.Z,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:r("profile.info.form.email.label"),name:"email",autoComplete:"email",disabled:C,value:S.values.email,onChange:S.handleChange,error:S.touched.email&&Boolean(S.errors.email),helperText:S.touched.email&&S.errors.email})]}),(0,w.jsxs)(l.Z,{children:[(0,w.jsx)(i.Z,{onClick:function(){return S.resetForm()},children:r("common.reset")}),(0,w.jsx)(h.Z,{loading:C,type:"submit",variant:"contained",children:r("common.update")})]})]})})}},46087:function(e,r,a){a.d(r,{Z:function(){return v}});var n=a(87462),t=a(63366),o=a(72791),i=a(28182),s=a(80163),l=a(67538),u=a(58333),d=a(93383),c=a(34923);function m(e){return(0,c.Z)("MuiCard",e)}(0,a(50782).Z)("MuiCard",["root"]);var f=a(80184),p=(0,l.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,r){return r.root}})((function(){return{overflow:"hidden"}})),v=o.forwardRef((function(e,r){var a=(0,u.Z)({props:e,name:"MuiCard"}),o=a.className,l=a.raised,d=void 0!==l&&l,c=(0,t.Z)(a,["className","raised"]),v=(0,n.Z)({},a,{raised:d}),Z=function(e){var r=e.classes;return(0,s.Z)({root:["root"]},m,r)}(v);return(0,f.jsx)(p,(0,n.Z)({className:(0,i.Z)(Z.root,o),elevation:d?8:void 0,ref:r,styleProps:v},c))}))},52697:function(e,r,a){a.d(r,{Z:function(){return p}});var n=a(63366),t=a(87462),o=a(72791),i=a(28182),s=a(80163),l=a(67538),u=a(58333),d=a(34923);function c(e){return(0,d.Z)("MuiCardActions",e)}(0,a(50782).Z)("MuiCardActions",["root","spacing"]);var m=a(80184),f=(0,l.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:function(e,r){var a=e.styleProps;return(0,t.Z)({},r.root,!a.disableSpacing&&r.spacing)}})((function(e){var r=e.styleProps;return(0,t.Z)({display:"flex",alignItems:"center",padding:8},!r.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),p=o.forwardRef((function(e,r){var a=(0,u.Z)({props:e,name:"MuiCardActions"}),o=a.disableSpacing,l=void 0!==o&&o,d=a.className,p=(0,n.Z)(a,["disableSpacing","className"]),v=(0,t.Z)({},a,{disableSpacing:l}),Z=function(e){var r=e.classes,a={root:["root",!e.disableSpacing&&"spacing"]};return(0,s.Z)(a,c,r)}(v);return(0,m.jsx)(f,(0,t.Z)({className:(0,i.Z)(Z.root,d),styleProps:v,ref:r},p))}))},51233:function(e,r,a){a.d(r,{Z:function(){return p}});var n=a(87462),t=a(63366),o=a(72791),i=a(28182),s=a(80163),l=a(67538),u=a(58333),d=a(34923);function c(e){return(0,d.Z)("MuiCardContent",e)}(0,a(50782).Z)("MuiCardContent",["root"]);var m=a(80184),f=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,r){return r.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),p=o.forwardRef((function(e,r){var a=(0,u.Z)({props:e,name:"MuiCardContent"}),o=a.className,l=a.component,d=void 0===l?"div":l,p=(0,t.Z)(a,["className","component"]),v=(0,n.Z)({},a,{component:d}),Z=function(e){var r=e.classes;return(0,s.Z)({root:["root"]},c,r)}(v);return(0,m.jsx)(f,(0,n.Z)({as:d,className:(0,i.Z)(Z.root,o),styleProps:v,ref:r},p))}))},11579:function(e,r,a){a.d(r,{Z:function(){return x}});var n=a(4942),t=a(63366),o=a(87462),i=a(72791),s=a(28182),l=a(80163),u=a(55477),d=a(58333),c=a(67538),m=a(34923);function f(e){return(0,m.Z)("MuiCardHeader",e)}var p=(0,a(50782).Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),v=a(80184),Z=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(e,r){var a;return(0,o.Z)((a={},(0,n.Z)(a,"& .".concat(p.title),r.title),(0,n.Z)(a,"& .".concat(p.subheader),r.subheader),a),r.root)}})({display:"flex",alignItems:"center",padding:16}),h=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(e,r){return r.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),g=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(e,r){return r.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),b=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(e,r){return r.content}})({flex:"1 1 auto"}),x=i.forwardRef((function(e,r){var a=(0,d.Z)({props:e,name:"MuiCardHeader"}),n=a.action,i=a.avatar,c=a.className,m=a.component,p=void 0===m?"div":m,x=a.disableTypography,y=void 0!==x&&x,C=a.subheader,N=a.subheaderTypographyProps,j=a.title,P=a.titleTypographyProps,M=(0,t.Z)(a,["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),R=(0,o.Z)({},a,{component:p,disableTypography:y}),w=function(e){var r=e.classes;return(0,l.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},f,r)}(R),T=j;null==T||T.type===u.Z||y||(T=(0,v.jsx)(u.Z,(0,o.Z)({variant:i?"body2":"h5",className:w.title,component:"span",display:"block"},P,{children:T})));var S=C;return null==S||S.type===u.Z||y||(S=(0,v.jsx)(u.Z,(0,o.Z)({variant:i?"body2":"body1",className:w.subheader,color:"text.secondary",component:"span",display:"block"},N,{children:S}))),(0,v.jsxs)(Z,(0,o.Z)({className:(0,s.Z)(w.root,c),as:p,ref:r,styleProps:R},M,{children:[i&&(0,v.jsx)(h,{className:w.avatar,styleProps:R,children:i}),(0,v.jsxs)(b,{className:w.content,styleProps:R,children:[T,S]}),n&&(0,v.jsx)(g,{className:w.action,styleProps:R,children:n})]}))}))}}]);
//# sourceMappingURL=666.598142e1.chunk.js.map